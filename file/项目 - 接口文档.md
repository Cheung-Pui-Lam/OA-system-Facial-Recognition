# 项目 - 接口文档

- **（基于人脸识别的企业自动化办公OA系统）**

## 1. 支持的请求方法

- POST
- GET

## 2. 返回的状态说明

| *状态码* | *含义*                | *说明*           |
| -------- | --------------------- | ---------------- |
| 1        | OK                    | 请求成功         |
| 404      | NOT FOUND             | 请求的资源不存在 |
| 0        | INTERNAL SERVER ERROR | 内部服务端错误   |

## 3. 数据库设计

数据库名 : company-manage

数据库账号 : root

数据库密码 : -------省略------

数据库 :utf8  排序规则 :utf8_general_ci

**数据库6张表：公司员工表、请假表、部门表、公告表、公司云仓库表、业务流程表**

![](C:\Users\28902\Desktop\Company-management\file\img\1.png)

![](C:\Users\28902\Desktop\Company-management\file\img\2.png)

![](C:\Users\28902\Desktop\Company-management\file\img\3.png)

![](C:\Users\28902\Desktop\Company-management\file\img\4.png)

![](C:\Users\28902\Desktop\Company-management\file\img\5.png)

![](C:\Users\28902\Desktop\Company-management\file\img\6.png)

![](C:\Users\28902\Desktop\Company-management\file\img\7.png)

### 3.1 员工表(crew)

| id                | 工号                              | int        | 必填(员工的工号)     |      |      |
| ----------------- | --------------------------------- | ---------- | -------------------- | ---- | ---- |
| *字段名*          | *含义*                            | 数据类型   | *说明*               |      |      |
| username          | 用户名                            | varchar    | 必填(员工的姓名)     |      |      |
| headpic           | 个人头像                          | mediumtext | 必填(员工头像)       |      |      |
| password          | 密码                              | int        | 必填(员工的登陆密码) |      |      |
| sex               | 性别                              | varchar    | 必填(员工的性别)     |      |      |
| age               | 年龄                              | int        | 必填(员工的年龄)     |      |      |
| phone             | 电话                              | int        | 必填(员工电话号码)   |      |      |
| department        | 所属部门                          | varchar    | 选填(员工的所属部门) |      |      |
| type              | 职位类型(1员工 2经理 3老总)       | int        | 必填                 |      |      |
| onduty            | 是否上班(1上班 0请假)             | int        | 必填                 |      |      |
| isReadNotice      | 公告是否已经查看(0未查看 1已查看) | int        | 必填                 |      |      |
| onduty_tiem_stamp | 上班打卡时间戳                    | int        | 必填                 |      |      |
| today_work_hours  | 今日上班时间                      | float      | 必填                 |      |      |
| month_work_hours  | 本月上班时间                      | float      | 必填                 |      |      |
| leave_times       | 本月请假次数                      | int        | 必填                 |      |      |

### 3.2 部门表(department)

| *字段名* | *含义*   | 数据类型 | *说明* |      |      |
| -------- | -------- | -------- | ------ | ---- | ---- |
| d_id     | 部门id   | int      | 必填   |      |      |
| d_name   | 部门名称 | varchar  | 必填   |      |      |

### 3.3 公告表(notice)

| *字段名*     | *含义*             | 数据类型   | *说明*                  |      |      |
| ------------ | ------------------ | ---------- | ----------------------- | ---- | ---- |
| n_title      | 公告标题           | mediumtext | 必填                    |      |      |
| n_desc       | 公告简述           | mediumtext | 非必填                  |      |      |
| n_content    | 公告内容           | mediumtext | 选填                    |      |      |
| n_createtime | 公告创建时间       | datetime   | 必填(格式 : 2022-01-01) |      |      |
| n_department | 公告发送部门       | varchar    |                         |      |      |
| n_file       | 是否有文件(1有0无) | int        |                         |      |      |
| n_user       | 公告发布人         | varchar    |                         |      |      |

### 3.4 请假表(leave)

| *字段名*     | *含义*                                                       | 数据类型   | *说明*                  |      |      |
| ------------ | ------------------------------------------------------------ | ---------- | ----------------------- | ---- | ---- |
| l_id         | 请假表id                                                     | int        | 必填                    |      |      |
| u_id         | 请假人id                                                     | int        | 必填                    |      |      |
| u_name       | 请假人的名字                                                 | varchar    | 必填                    |      |      |
| u_department | 请假人所在部门                                               | varchar    | 必填                    |      |      |
| type         | 请假人职位类型(1员工 2经理 3老总)                            | int        | 必填                    |      |      |
| reason       | 请假理由                                                     | mediumtext | 选填                    |      |      |
| starttime    | 开始时间                                                     | date       | 必填(格式 : 2022-01-01) |      |      |
| endtime      | 结束时间                                                     | date       | 必填(格式 : 2022-01-01) |      |      |
| state        | 审批状态( 0未审批    or     1审批不通过      or   2审批通过 ) | int        | 必填                    |      |      |
| createtime   | 创建时间                                                     | datetime   | 必填                    |      |      |

### 3.5 云仓[文件存储]表(storage)

| *字段名*     | *含义*       | 数据类型 | *说明*                  |      |      |
| ------------ | ------------ | -------- | ----------------------- | ---- | ---- |
| f_id         | 文件id       | int      | 必填                    |      |      |
| f_name       | 文件名称     | varchar  | 必填                    |      |      |
| f_value      | 文件内容     | longblob | 必填                    |      |      |
| f_department | 上传部门     | varchar  | 必填                    |      |      |
| uploader     | 上传者       | varchar  | 必填                    |      |      |
| createtime   | 文件上传时间 | datetime | 必填(格式 : 2022-01-01) |      |      |

### 3.6 业务流程表(business)

| *字段名*     | *含义*                        | 数据类型 | *说明* |      |      |
| ------------ | ----------------------------- | -------- | ------ | ---- | ---- |
| b_id         | 业务流程id                    | int      | 必填   |      |      |
| u_id         | 对应的用户id                  | int      | 必填   |      |      |
| b_title      | 业务流程标题                  | varchar  | 必填   |      |      |
| b_createtime | 业务流程创建时间              | varchar  | 必填   |      |      |
| b_desc       | 业务流程描述                  | varchar  | 必填   |      |      |
| b_user       | 提交人                        | varchar  | 必填   |      |      |
| b_approver   | 审批人                        | varchar  | 必填   |      |      |
| b_state      | 审批状态(0审批中,1拒绝 2同意) | int      | 必填   |      |      |
| b_file       | 是否有附带文件(0无1有)        | int      | 必填   |      |      |

# 4.接口说明

## 4.1 公共接口(每个人都能用)

### 4.1.1 登录接口

- 请求路径：/users/login
- 请求方法：post
- 请求参数

| 参数名   | 参数说明 | 数据类型 | 备注                 |
| -------- | -------- | -------- | -------------------- |
| username | 用户名   | string   | 不能为空             |
| password | 密码     | string   | 不能为空             |
| type     | 用户类型 | int      | (1普工 2经理 3老总 ) |

- 响应参数(如果无此用户将无数据-返回用户名或者账号输入错误)

| 参数名    | 参数说明       | 数据类型 | 备注           |
| --------- | -------------- | -------- | -------------- |
| loginData | 用户数据       | json数组 |                |
| jwt_token | 加密的权限信息 | string   | jwt加密的token |



### 4.1.2 修改个人密码

- 请求路径：/users/upPwd
- 请求方法：post
- 请求参数

| 参数名      | 参数说明 | 数据类型 | 备注             |
| ----------- | -------- | -------- | ---------------- |
| id          | 用户的id | int      | (登录的用户id)   |
| newpassword | 新密码   | string   | (密码长度无限制) |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| msg    | 成功或者失败信息 | string   |      |

### 4.1.3 修改个人头像



### 4.1.4 获取公司在职所有的员工数量以及信息

- 请求路径：/user/getAllCount
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名   | 参数说明           | 数据类型 | 备注 |
| -------- | ------------------ | -------- | ---- |
| allCount | 返回的全体员工数量 | int      |      |
| data     | 返回的全体员工数据 | 数组     |      |



### 4.1.5 获取今日上班的员工数量以及信息

- 请求路径：/user/getOndutyCount
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名      | 参数说明                 | 数据类型 | 备注 |
| ----------- | ------------------------ | -------- | ---- |
| ondutyCount | 返回的今日上班的人数     | int      |      |
| data        | 返回的今日上班人数的数据 | 数组     |      |



### 4.1.6 获取今日请假的员工数量以及信息

- 请求路径：/user/getLeaveCount
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名     | 参数说明                   | 数据类型 | 备注 |
| ---------- | -------------------------- | -------- | ---- |
| leaveCount | 返回的今日请假的人数       | int      |      |
| data       | 返回的今日请假的人数的数据 | 数组     |      |



### 4.1. 7 上班

- 请求路径：/users/onduty
- 请求方法：post
- 请求参数

| 参数名 | 参数说明 | 数据类型 | 备注     |
| ------ | -------- | -------- | -------- |
| id     | 用户的id | int      | (用户id) |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| msg    | 成功或失败的信息 | string   |      |



### 4.1.8  下班/请假(老总)

- 请求路径：/users/leave
- 请求方法：post
- 请求参数

| 参数名 | 参数说明 | 数据类型 | 备注     |
| ------ | -------- | -------- | -------- |
| id     | 用户的id | int      | (用户id) |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| msg    | 成功或失败的信息 | string   |      |



### 4.1.9 获取公告

- 请求路径：/user/getLeaveCount
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| notice | 返回公告的条数   | int      |      |
| data   | 返回的公告的数据 | 数组     |      |

### 4.1.10 上传文件(新)

- 请求路径：/user/uploadFile
- 请求方法：post

- 请求参数

| 参数名       | 参数说明             | 数据类型 | 备注 |
| ------------ | -------------------- | -------- | ---- |
| f_name       | 上传文件名           | varchat  | 必填 |
| f_department | 上传的部门           | varchat  | 必填 |
| f_value      | 上传的文件二进制数据 | longblob | 必填 |
| uploader     | 上传者               | varchar  | 必填 |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| msg    | 成功或失败的信息 | string   |      |

### 4.1.11 下载文件(新)

- 请求路径：/users/downloadFile
- 请求方法：get   [点击连接下载]
- 请求参数

| 参数名 | 参数说明     | 数据类型 | 备注 |
| ------ | ------------ | -------- | ---- |
| f_id   | 对应的文件id | int      | 必填 |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| msg    | 成功或失败的信息 | string   |      |

### 4.1.12 删除文件(新)

- 请求路径：/users/deleteFile
- 请求方法：post
- 请求参数

| 参数名 | 参数说明     | 数据类型 | 备注 |
| ------ | ------------ | -------- | ---- |
| f_id   | 对应的文件id | int      | 必填 |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| msg    | 成功或失败的信息 | string   |      |

## 4.2 普工接口

### 4.2.1 普工请假

- 请求路径：/staff/leave
- 请求方法：post

- 请求参数

| 参数名       | 参数说明       | 数据类型 | 备注                     |
| ------------ | -------------- | -------- | ------------------------ |
| u_id         | 请假员工工号   | int      | 必填                     |
| u_name       | 请假人名字     | varchat  | 必填                     |
| u_department | 请假人所在部门 | varchat  | 必填                     |
| reason       | 请假理由       | string   | 必填                     |
| starttime    | 开始时间       | date     | 必填 (格式 : 2020-08-25) |
| endtime      | 结束时间       | date     | 必填 (格式 : 2020-08-25) |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| notice | 返回公告的条数   | int      |      |
| data   | 返回的公告的数据 | 数组     |      |

### 4.2.2 普工销假

- 请求路径：/staff/cancelLeave

- 请求方法：post

- 请求参数

- | 参数名 | 参数说明   | 数据类型 | 备注 |
  | ------ | ---------- | -------- | ---- |
  | l_id   | 请假条的id | int      | 必填 |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| notice | 返回公告的条数   | int      |      |
| data   | 返回的公告的数据 | 数组     |      |

## 4.3 普工和自己的部门经理接口

### 4.3.1 普工(和经理)查看自己的请假条列表

- 请求路径：/user/checkLeave

- 请求方法：post

- 请求参数

- | 参数名 | 参数说明   | 数据类型 | 备注 |
  | ------ | ---------- | -------- | ---- |
  | u_id   | 该员工的id | int      | 必填 |

- 响应参数

| 参数名 | 参数说明           | 数据类型 | 备注 |
| ------ | ------------------ | -------- | ---- |
| leaves | 返回请假条数目     | int      |      |
| data   | 返回的请假条的数据 | 数组     |      |

### 4.3.5 普工(和经理)获取自己部门下的文件(新)

- 请求路径：/user/getAllFile

- 请求方法：post

- 请求参数

- | 参数名       | 参数说明         | 数据类型 | 备注 |
  | ------------ | ---------------- | -------- | ---- |
  | f_department | 该员工所在的部门 | varchar  | 必填 |

- 响应参数

| 参数名 | 参数说明             | 数据类型 | 备注 |
| ------ | -------------------- | -------- | ---- |
| file   | 返回文件的条数目     | int      |      |
| data   | 返回的所有文件的数据 | 数组     |      |

## 4.4 部门经理

### 4.4.1 对自己部门的员工进行增删改查接口

#### 4.4.1.1 获取所有所在部门员工的信息

- 请求路径：/manager/getAllStaff
- 请求方法：post
- 请求参数

| 参数名     | 参数说明     | 数据类型 | 备注             |
| ---------- | ------------ | -------- | ---------------- |
| department | 你所在的部门 | string   | (经理所在的部门) |

- 响应参数

| 参数名     | 参数说明             | 数据类型 | 备注 |
| ---------- | -------------------- | -------- | ---- |
| staffCount | 返回你部门的普工人数 | int      |      |
| data       | 返回你部门的普工数据 | 数组     |      |

#### 4.4.1.2 员工增加

- 请求路径：/manager/createStaff
- 请求方法：post
- 请求参数

| 参数名     | 参数说明           | 数据类型 | 备注                 |
| ---------- | ------------------ | -------- | -------------------- |
| id         | 新增普工的id       | int      | (新增的普工id)       |
| username   | 新增普工的用户名   | string   | (新增的普工用户名)   |
| password   | 新增普工的密码     | int      | (新增的普工密码)     |
| sex        | 新增普工的性别     | string   | (新增的普工性别)     |
| age        | 新增普工的年龄     | int      | (新增的普工年龄)     |
| phone      | 新增普工的电话号码 | int      | (新增的普工电话号码) |
| department | 新增普工的部门     | string   | (你[经理]所在的部门) |

- 新增普工的id响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功创建的该普工的数据 | 对象     |      |

#### 4.4.1.3 员工删除

- 请求路径：/manager/deleteStaff
- 请求方法：post
- 请求参数

| 参数名     | 参数说明           | 数据类型 | 备注                 |
| ---------- | ------------------ | -------- | -------------------- |
| id         | 要删除的普工的id   | int      | (用户id)             |
| department | 你(经理)所在的部门 | string   | (你[经理]所在的部门) |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功删除的该普工的数据 | 对象     |      |

#### 4.4.1.4 员工信息修改

- 请求路径：/manager/editStaff
- 请求方法：post
- 请求参数

| 参数名   | 参数说明           | 数据类型 | 备注               |
| -------- | ------------------ | -------- | ------------------ |
| newId    | 更改过后的id(普工) | int      | 用于确定是哪个员工 |
| oldId    | 更改之前的id(普工) | int      |                    |
| username | 更改之后的用户名   | string   |                    |
| sex      | 更改之后的性别     | string   |                    |
| age      | 更改之后的年龄     | int      |                    |
| phone    | 更改之后的电话号码 | int      |                    |

- 响应参数

| 参数名 | 参数说明               | 数据类型 | 备注 |
| ------ | ---------------------- | -------- | ---- |
| msg    | 成功或失败的信息       | string   |      |
| data   | 更改成功后的该员工数据 | 对象     |      |

### 4.4.2.1 获取自己部门的普工请假列表

- 请求路径：/manager/getAllStaffLeaves
- 请求方法：post
- 请求参数

| 参数名     | 参数说明                     | 数据类型 | 备注 |
| ---------- | ---------------------------- | -------- | ---- |
| department | 经理所在的部门(对应所有普工) | string   |      |

- 响应参数

| 参数名 | 参数说明               | 数据类型 | 备注 |
| ------ | ---------------------- | -------- | ---- |
| msg    | 成功或失败的信息       | string   |      |
| data   | 更改成功后的该员工数据 | 对象     |      |

### 4.4.2.2 修改自己部门的普工请假申请(拒接或者接受)

- 请求路径：/manager/updataStaffLeave
- 请求方法：post

- 请求参数

| 参数名  | 参数说明     | 数据类型 | 备注                                                  |
| ------- | ------------ | -------- | ----------------------------------------------------- |
| l_id    | 请假条id     | int      | 当前点击审批的请假条                                  |
| upState | 修改审批状态 | int      | ( 0未审批    or     1审批不通过      or   2审批通过 ) |

- 响应参数

| 参数名 | 参数说明               | 数据类型 | 备注 |
| ------ | ---------------------- | -------- | ---- |
| msg    | 成功或失败的信息       | string   |      |
| data   | 更改成功后的该员工数据 | 对象     |      |

### 4.4.1 部门经理请假

- 请求路径：/manager/leave
- 请求方法：post

- 请求参数

| 参数名       | 参数说明       | 数据类型 | 备注                     |
| ------------ | -------------- | -------- | ------------------------ |
| u_id         | 请假员工工号   | int      | 必填                     |
| u_name       | 请假人名字     | varchat  | 必填                     |
| u_department | 请假人所在部门 | varchat  | 必填                     |
| reason       | 请假理由       | string   | 必填                     |
| starttime    | 开始时间       | date     | 必填 (格式 : 2020-08-25) |
| endtime      | 结束时间       | date     | 必填 (格式 : 2020-08-25) |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| notice | 返回公告的条数   | int      |      |
| data   | 返回的公告的数据 | 数组     |      |

### 4.4.2 部门经理销假

- 请求路径：/manager/cancelLeave

- 请求方法：post

- 请求参数

- | 参数名 | 参数说明   | 数据类型 | 备注 |
  | ------ | ---------- | -------- | ---- |
  | l_id   | 请假条的id | int      | 必填 |

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| notice | 返回公告的条数   | int      |      |
| data   | 返回的公告的数据 | 数组     |      |

## 4.5 老总

#### 4.5.1.1 获取所有普通员工的信息(不限制部门)

- 请求路径：/boss/getAllStaff
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名   | 参数说明           | 数据类型 | 备注 |
| -------- | ------------------ | -------- | ---- |
| Allstaff | 返回所有普工的总数 | int      |      |
| data     | 返回所有普工的数据 | 数组     |      |

#### 4.5.1.2 获取所有经理的信息(不限制部门)

- 请求路径：/boss/getAllManager
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名     | 参数说明           | 数据类型 | 备注 |
| ---------- | ------------------ | -------- | ---- |
| AllManager | 返回所有经理的总数 | int      |      |
| data       | 返回所有经理的数据 | 数组     |      |

#### 4.5.1.3 新增普通员工(不限制部门)

- 请求路径：/boss/createStaff
- 请求方法：post
- 请求参数

| 参数名     | 参数说明           | 数据类型 | 备注                     |
| ---------- | ------------------ | -------- | ------------------------ |
| id         | 新增普工的id       | int      | (新增的普工id)           |
| username   | 新增普工的用户名   | string   | (新增的普工用户名)       |
| password   | 新增普工的密码     | int      | (新增的普工密码)         |
| sex        | 新增普工的性别     | string   | (新增的普工性别)         |
| age        | 新增普工的年龄     | int      | (新增的普工年龄)         |
| phone      | 新增普工的电话号码 | int      | (新增的普工电话号码)     |
| department | 新增普工的部门     | string   | (你[老总]指定所在的部门) |

- 新增普工的id响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功创建的该普工的数据 | 对象     |      |

#### 4.5.1.3 新增经理(不限制部门)

- 请求路径：/boss/createManager
- 请求方法：post
- 请求参数

| 参数名     | 参数说明           | 数据类型 | 备注                     |
| ---------- | ------------------ | -------- | ------------------------ |
| id         | 新增经理的id       | int      | (新增的普工id)           |
| username   | 新增经理的用户名   | string   | (新增的经理用户名)       |
| sex        | 新增经理的性别     | string   | (新增的经理性别)         |
| age        | 新增经理的年龄     | int      | (新增的经理年龄)         |
| phone      | 新增经理的电话号码 | int      | (新增的经理电话号码)     |
| department | 新增经理的部门     | string   | (你[老总]指定所在的部门) |

- 新增普工的id响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功创建的该经理的数据 | 对象     |      |

#### 4.5.1.4 删除普通员工(所有部门)

- 请求路径：/boss/deleteStaff
- 请求方法：post
- 请求参数

| 参数名 | 参数说明         | 数据类型 | 备注       |
| ------ | ---------------- | -------- | ---------- |
| id     | 要删除的普工的id | int      | (普工的id) |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功删除的该普工的数据 |          |      |

#### 4.5.1.5 删除经理(所有部门)

- 请求路径：/boss/deleteManger
- 请求方法：post
- 请求参数

| 参数名 | 参数说明         | 数据类型 | 备注       |
| ------ | ---------------- | -------- | ---------- |
| id     | 要删除的经理的id | int      | (经理的id) |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功删除的该经理的数据 |          |      |

#### 4.5.1.6 修改普通员工(所有部门)

- 请求路径：/boss/editStaff
- 请求方法：post
- 请求参数

| 参数名     | 参数说明                     | 数据类型 | 备注                                        |
| ---------- | ---------------------------- | -------- | ------------------------------------------- |
| oldId      | 要修改的普工的id(第一次获取) | int      | (普工的id,用于指定哪一个普工)               |
| newId      | 修改过后的id                 | int      | (通过旧id获取到指定的普工,修改过后的新的id) |
| username   | 修改过后的用户名             | string   |                                             |
| sex        | 修改过后的性别               | string   |                                             |
| age        | 修改过后的年龄               | int      |                                             |
| phone      | 修改过后的电话号码           | int      |                                             |
| department | 修改过后的部门               | string   |                                             |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功修改的该普工的数据 |          |      |

#### 4.5.1.7 修改经理(所有部门)

- 请求路径：/boss/editManger
- 请求方法：post
- 请求参数

| 参数名     | 参数说明                     | 数据类型 | 备注                                        |
| ---------- | ---------------------------- | -------- | ------------------------------------------- |
| oldId      | 要修改的经理的id(第一次获取) | int      | (普工的id,用于指定哪一个经理)               |
| newId      | 修改过后经理的id             | int      | (通过旧id获取到指定的经理,修改过后的新的id) |
| username   | 修改过后经理的用户名         | string   |                                             |
| sex        | 修改过后经理的性别           | string   |                                             |
| age        | 修改过后经理的年龄           | int      |                                             |
| phone      | 修改过后经理的电话号码       | int      |                                             |
| department | 修改过后经理的部门           | string   |                                             |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功修改的该经理的数据 |          |      |

#### 4.5.2.1 发布公告(新增)

- 请求路径：/boss/createNotice
- 请求方法：post
- 请求参数

| 参数名     | 参数说明           | 数据类型 | 备注 |
| ---------- | ------------------ | -------- | ---- |
| title      | 新增公告的标题     | string   |      |
| desc       | 新增公告的简述     | string   |      |
| content    | 新增公告的内容     | string   |      |
| createtime | 新增公告的创建时间 | string   |      |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息(新增公告) | string   |      |
| data   | 返回成功新增后该公告的数据 |          |      |

#### 4.5.2.2 删除公告

- 请求路径：/boss/deleteNotice
- 请求方法：post
- 请求参数

| 参数名 | 参数说明           | 数据类型 | 备注 |
| ------ | ------------------ | -------- | ---- |
| title  | 要删除的公告的标题 | string   |      |

- 响应参数

| 参数名 | 参数说明                   | 数据类型 | 备注 |
| ------ | -------------------------- | -------- | ---- |
| msg    | 成功或失败的信息           | string   |      |
| data   | 返回成功删除的该公告的数据 |          |      |

#### 4.5.2.3 修改公告

- 请求路径：/boss/editNotice
- 请求方法：post
- 请求参数

| 参数名        | 参数说明             | 数据类型 | 备注                       |
| ------------- | -------------------- | -------- | -------------------------- |
| newTitle      | 要修改的公告标题     | string   |                            |
| newDesc       | 要修改的公告标题     | string   |                            |
| newContent    | 要修改的公告标题     | string   |                            |
| newCreatetime | 要修改的公告标题     | string   |                            |
| oldTitle      | 选择要修改的公告标题 | string   | (用于定位要修改那一条公告) |

- 响应参数

| 参数名 | 参数说明                       | 数据类型 | 备注 |
| ------ | ------------------------------ | -------- | ---- |
| msg    | 成功或失败的信息(公告修改成功) | string   |      |
| data   | 返回成功修改的那条公告的数据   |          |      |

#### 4.5.3.1 获取所有部门

- 请求路径：/boss/getAllDepartment
- 请求方法：get
- 无请求参数

- 响应参数

| 参数名 | 参数说明                       | 数据类型 | 备注 |
| ------ | ------------------------------ | -------- | ---- |
| msg    | 成功或失败的信息(公告修改成功) | string   |      |
| data   | 返回成功修改的那条公告的数据   |          |      |

#### 4.5.3.2 新增部门

- 请求路径：/boss/addDepartment
- 请求方法：post
- 请求参数

| 参数名   | 参数说明         | 数据类型 | 备注 |
| -------- | ---------------- | -------- | ---- |
| new_id   | 要新增的部门id   | string   |      |
| new_name | 要新增的部门名字 | string   |      |

- 响应参数

| 参数名 | 参数说明                       | 数据类型 | 备注 |
| ------ | ------------------------------ | -------- | ---- |
| msg    | 成功或失败的信息(公告新增成功) | string   |      |
| data   | 返回成功新的部门数据           |          |      |

#### 4.5.3.3 修改部门

- 请求路径：/boss/editDepartment
- 请求方法：post
- 请求参数

| 参数名   | 参数说明         | 数据类型 | 备注 |
| -------- | ---------------- | -------- | ---- |
| new_id   | 要修改的部门id   | string   |      |
| new_name | 要修改的部门名字 | string   |      |

- 响应参数

| 参数名 | 参数说明                       | 数据类型 | 备注 |
| ------ | ------------------------------ | -------- | ---- |
| msg    | 成功或失败的信息(部门修改成功) | string   |      |
| data   | 返回成功修改的那条部门的数据   |          |      |

#### 4.5.3.4 删除部门

- 请求路径：/boss/deleteDepartment
- 请求方法：post
- 请求参数

| 参数名 | 参数说明     | 数据类型 | 备注 |
| ------ | ------------ | -------- | ---- |
| d_id   | 部门编号(id) | int      | 必填 |

- 响应参数

| 参数名 | 参数说明                       | 数据类型 | 备注 |
| ------ | ------------------------------ | -------- | ---- |
| msg    | 成功或失败的信息(部门删除成功) | string   |      |
| data   | 返回新的部门数据               |          |      |

### 4.5.4.1 获取所有经理请假列表

- 请求路径：/boss/getAllManagerLeaves
- 请求方法：get
- 请求参数(无)

- 响应参数

| 参数名 | 参数说明               | 数据类型 | 备注 |
| ------ | ---------------------- | -------- | ---- |
| msg    | 成功或失败的信息       | string   |      |
| data   | 更改成功后的该员工数据 | 对象     |      |

### 4.5.2.2 修改经理的请假申请(拒接或者接受)

- 请求路径：/boss/updataManagerLeave
- 请求方法：post

- 请求参数

| 参数名  | 参数说明     | 数据类型 | 备注                                                  |
| ------- | ------------ | -------- | ----------------------------------------------------- |
| l_id    | 请假条id     | int      | 当前点击审批的请假条                                  |
| upState | 修改审批状态 | int      | ( 0未审批    or     1审批不通过      or   2审批通过 ) |

- 响应参数

| 参数名 | 参数说明               | 数据类型 | 备注 |
| ------ | ---------------------- | -------- | ---- |
| msg    | 成功或失败的信息       | string   |      |
| data   | 更改成功后的该员工数据 | 对象     |      |

### 4.5.1 获取所有的文件不限部门(新)

- 请求路径：/boss/getAllFile
- 请求方法：get
- 请求参数(无)
- 响应参数

| 参数名     | 参数说明             | 数据类型 | 备注 |
| ---------- | -------------------- | -------- | ---- |
| file_count | 返回文件的条数       | int      |      |
| data       | 返回的所有文件的数据 | 数组     |      |